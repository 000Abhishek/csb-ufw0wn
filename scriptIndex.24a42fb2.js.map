{"version":3,"sources":["scriptIndex.js"],"names":["searchBar","document","getElementById","console","log","value","addEventListener","getSearchedSuperHeroes","myLocalStorage","window","localStorage","getItem","arr","setItem","JSON","stringify","displaySearchedHeroesResult","innerHTML","url","apiRequest","XMLHttpRequest","onreadystatechange","status","readyState","data","parse","responseText","response","_step","_iterator","_createForOfIteratorHelper","results","_loop","_hero$image$url","hero","heroCard","createElement","setAttribute","className","onclick","currSelectedHero","id","nameOfHero","infoOfHero","createTextNode","name","appendChild","imageOfHero","image","favButton","includes","style","color","backgroundColor","event","toggleFavourite","s","n","done","err","e","f","open","send","heroID","deleteHero","push","stopPropagation","h","splice","location","assign"],"mappings":"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","file":"scriptIndex.24a42fb2.js","sourceRoot":"..","sourcesContent":["//fetching the search Bar element and adding key up event listener to it\nlet searchBar = document.getElementById(\"searchHero\");\nconsole.log(searchBar.value);\nsearchBar.addEventListener('keyup',getSearchedSuperHeroes);\n\n//****** */\n\n\n//creating and acessing local storage for user's seemless experience\n\nlet myLocalStorage = window.localStorage;\n\nif(!myLocalStorage.getItem('superheroID')){\n    let arr = [];\n    myLocalStorage.setItem('superheroID',JSON.stringify(arr));\n    console.log(\"Storage Created\");\n\n}\n\nmyLocalStorage.setItem('showSuperHero','');\n\n//****** */\n\n//function display all the search suggested super heroes\n\nfunction getSearchedSuperHeroes(){\n\n    var displaySearchedHeroesResult = document.getElementById('displayHeroSearchResults');\n\n    displaySearchedHeroesResult.innerHTML = `\n    <h1 class = \"loading-and-error-font\"> Loading Super Heroes .... \n    </h1>\n`;\n\n\n\n    //api's url to search heroes according to the name\n    let url = 'https://superheroapi.com/api.php/1500237820345742/search/'+searchBar.value;\n\n    //creating a new XML HTTP request\n\n    var apiRequest = new XMLHttpRequest();\n\n\napiRequest.onreadystatechange = function(){\n    console.log(this.status)\n    //if request is made successfully with status as 200 and in ready state 4\n    if(this.readyState == 4 && this.status == 200){\n\n        //fetching data from the api in data variable\n        var data = JSON.parse(this.responseText);\n        console.log(data);\n\n\n        //to handle backspace or no input value errors in the search Bar\n\n        if(data.response===\"error\"){\n            displaySearchedHeroesResult.innerHTML = '<h2 class = \"loading-and-error-font\"> Oops ! There is no super hero with such name, please make sure that you are spelling it correctly :/ </h2> ';\n            return;\n\n        }\n\n        //exit if searched query does not match the displayd result\n\n        if(searchBar.value!=data[\"results-for\"]){\n            return;\n        }\n\n        //reset the display container after showing results\n\n        displaySearchedHeroesResult.innerHTML='';\n\n\n        //adding all the results to the DOM\n\n        for(let hero of data.results){\n\n            let heroCard = document.createElement('div');\n            heroCard.setAttribute('id','heroCard');\n            heroCard.className='hero-card';\n\n            //adding on click to ebery hero's displayed hero so that it redirects to the clicked hero's page\n\n            heroCard.onclick = function(){currSelectedHero(hero.id)};\n\n            //adding hero's details \n\n            let nameOfHero = document.createElement('span');\n\n            let infoOfHero = document.createTextNode(hero.name);\n\n            nameOfHero.appendChild(infoOfHero);\n\n\n            let imageOfHero = document.createElement('img');\n            \n            imageOfHero.setAttribute(\n                \"src\",\n                hero.image.url ?? \"default-hero-image.jpeg\"\n              );\n            \n\n\n           \n\n            //adding favourites button\n            let favButton = document.createElement(\"BUTTON\");\n            favButton.className = 'fav-btn';\n\n            //here in this section, going to create an array and check if the super hero is already added to favourites and style the colour of the favorite button accordingly\n\n            var arr = JSON.parse(myLocalStorage.getItem('superheroID'));\n\n\n            if(arr.includes(hero.id)){\n                favButton.style.color = '#460b0b';\n\n                favButton.style.backgroundColor = \"white\";\n\n                favButton.innerHTML ='<span> Favourite <i class = \"fas fa-heart\"></i> </span> ';\n                \n            }else{\n                favButton.style.color = \"white\";\n\n                favButton.style.backgroundColor = '#460b0b';\n\n                favButton.innerHTML ='<span> Add to Favourites <i class = \"fas fa-heart\"></i> </span> ';\n\n            }\n\n            //onClicking, remove or add superhero from favourites\n\n            favButton.onclick = function(event){ toggleFavourite(event,hero.id,favButton)};\n\n\n            //appending hero's details the superhero card\n\n            heroCard.appendChild(nameOfHero);\n            heroCard.appendChild(imageOfHero);\n            heroCard.appendChild(favButton);\n\n            //appending the superhero card to the display results\n\n            displaySearchedHeroesResult.appendChild(heroCard);\n        }\n    }\n\n\n};\napiRequest.open('get',url,true);\napiRequest.send();\n}\n\nfunction toggleFavourite(event,heroID,favButton){\n    var data = JSON.parse(myLocalStorage.getItem('superheroID'));\n\n    //delete it , if it already exists, else add it to favs\n\n    if(data.includes(heroID)){\n        deleteHero(data,heroID);\n        favButton.style.color = \"white\";\n        favButton.style.backgroundColor = '#460b0b';\n        favButton.innerHTML ='<span> Add to Favourites </span> <i class = \"fas fa-heart\"></i>';\n    }else{\n        \n        favButton.style.color = '#460b0b';\n\n        favButton.style.backgroundColor = \"white\";\n     \n        favButton.innerHTML ='<span> Favourite </span> <i class = \"fas fa-heart\"></i>';\n        data.push(heroID);\n    }\n    myLocalStorage.setItem('superheroID',JSON.stringify(data));\n\n    event.stopPropagation();\n\n}\n\nfunction  deleteHero(arr,heroID){\n    for(let h in arr){\n        if(arr[h]==heroID){\n            var tempArr = arr[h];\n            tempArr.splice(h,1);\n            break; \n        }\n    }\n    myLocalStorage.setItem('superheroID',JSON.stringify(arr));\n    \n \n}\n\nfunction currSelectedHero(heroID){\n    myLocalStorage.setItem('showSuperHero',heroID);\n    document.getElementById(\"searchHero\").value = '';\n    window.location.assign(\"heroInfo.html\");\n\n}\n\n\n\n"]}