{"version":3,"sources":["scriptFavourites.js"],"names":["_step","favouriteSection","document","getElementById","myLocalStorage","window","localStorage","arr","JSON","parse","getItem","_iterator","_createForOfIteratorHelper","_loop","hero_id","value","url","apiRequest","XMLHttpRequest","onreadystatechange","console","log","status","readyState","_data$image$url","data","responseText","favHeroCard","createElement","className","id","onclick","currHero","nameOfHero","infoOfHero","createTextNode","name","appendChild","imageOfHero","setAttribute","image","delBtn","innerHTML","event","deleteHeroFromFavourites","open","send","s","n","done","err","e","f","he","tempArr","splice","setItem","stringify","remove","stopPropagation","heroID","location","assign"],"mappings":";AA2GA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,oBAAA,QAAA,EAAA,OAAA,WAAA,EAAA,cAAA,IAAA,EAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,KAAA,GAAA,GAAA,iBAAA,EAAA,OAAA,CAAA,IAAA,EAAA,GAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,KAAA,IAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA1GA,IAUsBA,EAVlBC,EAAmBC,SAASC,eAAe,qBAM3CC,EAAiBC,OAAOC,aAExBC,EAAMC,KAAKC,MAAML,EAAeM,QAAQ,gBAAgBC,EAAAC,EAEzCL,GAAG,IAAA,IAAAM,EAAAA,WAAC,IAAfC,EAAOd,EAAAe,MAEPC,EAAM,qDAAqDF,GAI3DG,EAAa,IAAIC,gBAGdC,mBAAqB,WAG5B,GAFAC,QAAQC,IAAI,KAAKC,QAEK,GAAnB,KAAKC,YAAkC,KAAf,KAAKD,OAAc,CAAA,IAAAE,EAGtCC,EAAOjB,KAAKC,MAAM,KAAKiB,cAC3BN,QAAQC,IAAII,GAEZ,IAAIE,EAAczB,SAAS0B,cAAc,OAGzCD,EAAYE,UAAU,sBAEtBF,EAAYG,GAAK,sBAAsBhB,EAIvCa,EAAYI,QAAU,WAAWC,EAASlB,IAI1C,IAAImB,EAAa/B,SAAS0B,cAAc,QAEpCM,EAAahC,SAASiC,eAAeV,EAAKW,MAE9CH,EAAWI,YAAYH,GAGvB,IAAII,EAAcpC,SAAS0B,cAAc,OAGzCU,EAAYC,aACV,MACcf,QADTA,EACLC,EAAKe,MAAMxB,WAAGQ,IAAAA,EAAAA,EAAI,2BAWpB,IAAIiB,EAASvC,SAAS0B,cAAc,UAEpCa,EAAOZ,UAAY,UACnBY,EAAOC,UAAY,iDACnBD,EAAOV,QAAU,SAAUY,GACvBC,EAAyBD,EAAO7B,EAASa,EAAYG,KAEzDH,EAAYU,YAAYJ,GACxBN,EAAYU,YAAYC,GACxBX,EAAYU,YAAYI,GAExBxC,EAAiBoC,YAAYV,KAMrCV,EAAW4B,KAAK,MAAM7B,GAAI,GAC1BC,EAAW6B,QAxEX,IAAAnC,EAAAoC,MAAA/C,EAAAW,EAAAqC,KAAAC,MAAA,CAAA,IAAAjC,EAAAC,EAAAJ,KAyECqC,MAAAA,GAAAvC,EAAAwC,EAAAD,GAAA,QAAAvC,EAAAyC,IAGD,SAASR,EAAyBD,EAAOb,EAAIH,GACzC,IAAK,IAAI0B,KAAM9C,EAAK,CAClB,GAAIA,EAAI8C,IAAOvB,EAAI,CACjB,IAAIwB,EAAU/C,EAAI8C,GAClB9C,EAAIgD,OAAOF,EAAI,GACfjC,QAAQC,IAAI,WAAYiC,GACxB,MAEFlC,QAAQC,IAAId,GAGdH,EAAeoD,QAAQ,cAAehD,KAAKiD,UAAUlD,IAC1CL,SAASC,eAAewB,GAC9B+B,SACLf,EAAMgB,kBAGV,SAAS3B,EAAS4B,GACdxD,EAAeoD,QAAQ,gBAAgBI,GACvCvD,OAAOwD,SAASC,OAAO","file":"scriptFavourites.3db7d1ba.js","sourceRoot":"..","sourcesContent":["//fetching the dis element \nlet favouriteSection = document.getElementById(\"displayFavourites\");\n\n//****** */\n\n//creating and acessing local storage for user's seemless experience\n\nvar myLocalStorage = window.localStorage;\n\nvar arr = JSON.parse(myLocalStorage.getItem(\"superheroID\"));\n\nfor(let hero_id of arr){\n    \n    var url = 'https://superheroapi.com/api.php/1500237820345742/'+hero_id;\n\n    //creating a new XML HTTP request\n\n    var apiRequest = new XMLHttpRequest();\n\n\napiRequest.onreadystatechange = function(){\n    console.log(this.status);\n    //if request is made successfully with status as 200 and in ready state 4\n    if(this.readyState == 4 && this.status == 200){\n\n        //fetching data from the api in data variable\n        var data = JSON.parse(this.responseText);\n        console.log(data);\n\n        let favHeroCard = document.createElement('div');\n       \n\n        favHeroCard.className='favourite-hero-card';\n\n        favHeroCard.id = 'favourite-hero-card'+hero_id;\n\n        //adding on click to every hero's displayed hero so that it redirects to the clicked hero's page\n\n        favHeroCard.onclick = function(){currHero(hero_id)};\n\n        //adding hero's details \n\n        let nameOfHero = document.createElement('span');\n\n        let infoOfHero = document.createTextNode(data.name);\n\n        nameOfHero.appendChild(infoOfHero);\n\n\n        let imageOfHero = document.createElement('img');\n   \n\n        imageOfHero.setAttribute(\n          \"src\",\n          data.image.url ?? \"default-hero-image.jpeg\"\n        );\n        // if(data.image.response==\"success\"){\n        //     imageOfHero.setAttribute('src',data.image.url);\n\n        // }else{\n        //     imageOfHero.setAttribute('src','default-hero-image.jpeg');\n        // }\n\n        //adding delete button\n\n        let delBtn = document.createElement(\"BUTTON\");\n\n        delBtn.className = 'del-btn';\n        delBtn.innerHTML = '<span> <i class = \"fas fa-trash\"> </i> </span>';\n        delBtn.onclick = function (event) {\n            deleteHeroFromFavourites(event, hero_id, favHeroCard.id);\n          };\n        favHeroCard.appendChild(nameOfHero);\n        favHeroCard.appendChild(imageOfHero);\n        favHeroCard.appendChild(delBtn);\n\n        favouriteSection.appendChild(favHeroCard);\n\n\n\n}\n}\napiRequest.open('get',url,true);\napiRequest.send();\n}\n\n\nfunction deleteHeroFromFavourites(event, id, favHeroCard) {\n    for (let he in arr) {\n      if (arr[he] == id) {\n        var tempArr = arr[he];\n        arr.splice(he, 1);\n        console.log(\"deleting\", tempArr);\n        break;\n      }\n      console.log(arr);\n    }\n  \n    myLocalStorage.setItem(\"superheroID\", JSON.stringify(arr));\n    var card = document.getElementById(favHeroCard);\n    card.remove();\n    event.stopPropagation();\n  }\n\nfunction currHero(heroID){\n    myLocalStorage.setItem('showSuperHero',heroID);\n    window.location.assign(\"heroInfo.html\");\n}\n\n\n\n\n"]}